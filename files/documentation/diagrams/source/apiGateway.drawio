<mxfile host="app.diagrams.net" modified="2024-06-16T21:32:21.373Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36" etag="qJAqpn6cSqTm6BxVCBs4" version="24.5.4" type="device">
  <diagram id="2chfn8bRImfI61WlL0k3" name="Page-1">
    <mxGraphModel dx="6136" dy="2744" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="850" pageHeight="1100" background="none" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="node2" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;ApiGatewayApplication&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;+ main(String[]): void&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="3002" width="229" height="68" as="geometry" />
        </mxCell>
        <mxCell id="dCIeNN29RQ3_K1Udhdl_-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" parent="1" source="node9" target="node7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dCIeNN29RQ3_K1Udhdl_-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.25;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="node9" target="node13" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1200" y="2420" />
              <mxPoint x="1200" y="1042" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="node9" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;ApiGatewayController&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;- authenticatedUserContextService: AuthenticatedUserContextService&lt;br/&gt;- log: Logger&lt;br/&gt;- externalOperationsService: ExternalOperationsService&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;+ getRecommendedProducts(Integer, Integer, String): ResponseEntity&amp;lt;GetProductsResponse&amp;gt;&lt;br/&gt;+ updateBasicUserDetails(UpdateBasicUserDetailsRequest): void&lt;br/&gt;+ manualRemoveUsersBan(): void&lt;br/&gt;+ deleteProduct(Integer): void&lt;br/&gt;+ banUser(Integer, Integer): void&lt;br/&gt;+ getConversationsPreview(Integer, Integer, String): ResponseEntity&amp;lt;ConversationsPreviewResponse&amp;gt;&lt;br/&gt;+ getConversation(Integer): ResponseEntity&amp;lt;ConversationResponse&amp;gt;&lt;br/&gt;+ sendPrivateMessage(PrivateChatMessageRequest): void&lt;br/&gt;+ getProductById(Integer): ResponseEntity&amp;lt;ProductDTO&amp;gt;&lt;br/&gt;+ manualSecurityCodesExpire(): void&lt;br/&gt;+ removeUserBan(Integer): void&lt;br/&gt;+ searchProductsByCategory(Integer, Integer, Integer, String): ResponseEntity&amp;lt;SearchProductsResponse&amp;gt;&lt;br/&gt;+ usernameReset(UsernameResetRequest): void&lt;br/&gt;+ login(LoginRequest): ResponseEntity&amp;lt;LoginResponse&amp;gt;&lt;br/&gt;+ getUserDetailsByUsername(String): ResponseEntity&amp;lt;GetUserDetailsResponse&amp;gt;&lt;br/&gt;+ getAuthenticatedUserDetails(): ResponseEntity&amp;lt;GetUserDetailsResponse&amp;gt;&lt;br/&gt;+ getUserAccountStatus(Integer): ResponseEntity&amp;lt;GetUserAccountStatusResponse&amp;gt;&lt;br/&gt;+ logout(): void&lt;br/&gt;+ getProductCategoryId(GetProductCategoryIdRequest): ResponseEntity&amp;lt;Integer&amp;gt;&lt;br/&gt;+ emailReset(EmailResetRequest): void&lt;br/&gt;+ getUserActions(Integer, Integer, String): ResponseEntity&amp;lt;GetUserActionsResponse&amp;gt;&lt;br/&gt;+ deleteProductAdmin(Integer): void&lt;br/&gt;+ addNewProductCategory(AddNewProductCategoryRequest): void&lt;br/&gt;+ passwordReset(PasswordResetRequest): void&lt;br/&gt;+ forgottenPasswordReset(ForgottenPasswordResetRequest): void&lt;br/&gt;+ getUserDetails(Integer): ResponseEntity&amp;lt;GetUserDetailsResponse&amp;gt;&lt;br/&gt;+ getProductsByUser(Integer, Integer, Integer, String): ResponseEntity&amp;lt;GetProductsResponse&amp;gt;&lt;br/&gt;+ register(RegisterRequest): ResponseEntity&amp;lt;RegisterResponse&amp;gt;&lt;br/&gt;+ getCategoryTree(Integer): ResponseEntity&amp;lt;GetCategoryTreeResponse&amp;gt;&lt;br/&gt;+ getLikedProductsByUser(Integer, Integer, String): ResponseEntity&amp;lt;GetProductsResponse&amp;gt;&lt;br/&gt;+ getProductsLikeStatus(GetProductsLikeStatusRequest): ResponseEntity&amp;lt;GetProductsLikeStatusResponse&amp;gt;&lt;br/&gt;+ searchProducts(Integer, Integer, String, SearchProductsRequest): ResponseEntity&amp;lt;SearchProductsResponse&amp;gt;&lt;br/&gt;+ createProduct(CreateProductRequest): ResponseEntity&amp;lt;Integer&amp;gt;&lt;br/&gt;+ changeProductLikeStatus(Integer): void&lt;br/&gt;+ updateProduct(UpdateProductRequest): void&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="1330.5" y="2170" width="708" height="920" as="geometry" />
        </mxCell>
        <mxCell id="dCIeNN29RQ3_K1Udhdl_-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="node5" target="node7" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1904" y="1749" />
              <mxPoint x="1940" y="1749" />
              <mxPoint x="1940" y="1484" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="node5" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br/&gt;&lt;b&gt;ApiGatewayPublicService&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="1780" y="1800" width="247" height="35" as="geometry" />
        </mxCell>
        <mxCell id="node7" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;ApiGatewayService&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;+ getProductCategoryId(GetProductCategoryIdRequest): ResponseEntity&amp;lt;Integer&amp;gt;&lt;br&gt;+ emailReset(EmailResetRequest): void&lt;br&gt;+ searchProducts(Integer, Integer, String, SearchProductsRequest): ResponseEntity&amp;lt;SearchProductsResponse&amp;gt;&lt;br&gt;+ getCategoryTree(Integer): ResponseEntity&amp;lt;GetCategoryTreeResponse&amp;gt;&lt;br&gt;+ getUserActions(Integer, Integer, String): ResponseEntity&amp;lt;GetUserActionsResponse&amp;gt;&lt;br&gt;+ searchProductsByCategory(Integer, Integer, Integer, String): ResponseEntity&amp;lt;SearchProductsResponse&amp;gt;&lt;br&gt;+ logout(): void&lt;br&gt;+ changeProductLikeStatus(Integer): void&lt;br&gt;+ addNewProductCategory(AddNewProductCategoryRequest): void&lt;br&gt;+ getProductById(Integer): ResponseEntity&amp;lt;ProductDTO&amp;gt;&lt;br&gt;+ passwordReset(PasswordResetRequest): void&lt;br&gt;+ getAuthenticatedUserDetails(): ResponseEntity&amp;lt;GetUserDetailsResponse&amp;gt;&lt;br&gt;+ getLikedProductsByUser(Integer, Integer, String): ResponseEntity&amp;lt;GetProductsResponse&amp;gt;&lt;br&gt;+ deleteProductAdmin(Integer): void&lt;br&gt;+ getProductsLikeStatus(GetProductsLikeStatusRequest): ResponseEntity&amp;lt;GetProductsLikeStatusResponse&amp;gt;&lt;br&gt;+ sendPrivateMessage(PrivateChatMessageRequest): void&lt;br&gt;+ register(RegisterRequest): ResponseEntity&amp;lt;RegisterResponse&amp;gt;&lt;br&gt;+ updateProduct(UpdateProductRequest): void&lt;br&gt;+ getProductsByUser(Integer, Integer, Integer, String): ResponseEntity&amp;lt;GetProductsResponse&amp;gt;&lt;br&gt;+ login(LoginRequest): ResponseEntity&amp;lt;LoginResponse&amp;gt;&lt;br&gt;+ getUserDetails(Integer): ResponseEntity&amp;lt;GetUserDetailsResponse&amp;gt;&lt;br&gt;+ getUserAccountStatus(Integer): ResponseEntity&amp;lt;GetUserAccountStatusResponse&amp;gt;&lt;br&gt;+ getConversationsPreview(Integer, Integer, String): ResponseEntity&amp;lt;ConversationsPreviewResponse&amp;gt;&lt;br&gt;+ manualRemoveUsersBan(): void&lt;br&gt;+ manualSecurityCodesExpire(): void&lt;br&gt;+ removeUserBan(Integer): void&lt;br&gt;+ getUserDetailsByUsername(String): ResponseEntity&amp;lt;GetUserDetailsResponse&amp;gt;&lt;br&gt;+ getRecommendedProducts(Integer, Integer, String): ResponseEntity&amp;lt;GetProductsResponse&amp;gt;&lt;br&gt;+ forgottenPasswordReset(ForgottenPasswordResetRequest): void&lt;br&gt;+ usernameReset(UsernameResetRequest): void&lt;br&gt;+ getConversation(Integer): ResponseEntity&amp;lt;ConversationResponse&amp;gt;&lt;br&gt;+ createProduct(CreateProductRequest): ResponseEntity&amp;lt;Integer&amp;gt;&lt;br&gt;+ updateBasicUserDetails(UpdateBasicUserDetailsRequest): void&lt;br&gt;+ deleteProduct(Integer): void&lt;br&gt;+ banUser(Integer, Integer): void&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="1260" y="840" width="643" height="858" as="geometry" />
        </mxCell>
        <mxCell id="node16" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;ApplicationConfiguration&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;- userRepository: UserRepository&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;+ authenticationManager(AuthenticationConfiguration): AuthenticationManager&lt;br/&gt;+ userDetailsService(): UserDetailsService&lt;br/&gt;+ authenticationProvider(): AuthenticationProvider&lt;br/&gt;+ passwordEncoder(): PasswordEncoder&lt;br/&gt;+ getRestTemplate(): RestTemplate&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="1120" y="620" width="525" height="186" as="geometry" />
        </mxCell>
        <mxCell id="node8" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br/&gt;&lt;b&gt;AuthenticatedUserContextService&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;+ getUserProperties(): Map&amp;lt;String, Object&amp;gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="1300" y="2000" width="316" height="79" as="geometry" />
        </mxCell>
        <mxCell id="node17" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;AuthenticatedUserContextServiceImpl&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;- OAUTH2_USER_ID: String&lt;br/&gt;- exceptionFactory: ExceptionFactory&lt;br/&gt;- userRepository: UserRepository&lt;br/&gt;- log: Logger&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;+ getUserProperties(): Map&amp;lt;String, Object&amp;gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="1284" y="1770" width="348" height="162" as="geometry" />
        </mxCell>
        <mxCell id="node15" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;enumeration&amp;gt;&amp;gt;&lt;/i&gt;&lt;br/&gt;&lt;b&gt;AuthenticatedUserPropertyType&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;+ CONTEXT_USER_ID: &lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;+ values(): AuthenticatedUserPropertyType[]&lt;br/&gt;+ valueOf(String): AuthenticatedUserPropertyType&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="1681" y="640" width="346" height="143" as="geometry" />
        </mxCell>
        <mxCell id="dCIeNN29RQ3_K1Udhdl_-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="node12" target="node6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="node12" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;CustomAuthenticationEntryPoint&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;- uiLoginRedirectUri: String&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;+ commence(HttpServletRequest, HttpServletResponse, AuthenticationException): void&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="-121" y="2993" width="468" height="97" as="geometry" />
        </mxCell>
        <mxCell id="dCIeNN29RQ3_K1Udhdl_-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="node3" target="node13" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1140" y="882" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="node3" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;CustomAuthenticationSuccessHandler&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;- successfulAuthenticationUri: String&lt;br/&gt;- OAUTH2_USER_ID: String&lt;br/&gt;- USER_IMAGE: String&lt;br/&gt;- EMAIL: String&lt;br/&gt;- externalOperationsService: ExternalOperationsService&lt;br/&gt;- uiUserBanPage: String&lt;br/&gt;- NAME: String&lt;br/&gt;- userRepository: UserRepository&lt;br/&gt;- SURNAME: String&lt;br/&gt;- log: Logger&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;+ onAuthenticationSuccess(HttpServletRequest, HttpServletResponse, Authentication): void&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="850" y="2550" width="455" height="306" as="geometry" />
        </mxCell>
        <mxCell id="dCIeNN29RQ3_K1Udhdl_-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="node10" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="380" y="2630" as="targetPoint" />
            <Array as="points">
              <mxPoint x="420" y="3199" />
              <mxPoint x="420" y="2630" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="node10" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;CustomLogoutHandler&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;- log: Logger&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;+ logout(HttpServletRequest, HttpServletResponse, Authentication): void&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="-119" y="3150" width="464" height="97" as="geometry" />
        </mxCell>
        <mxCell id="node13" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br/&gt;&lt;b&gt;ExternalOperationsService&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;+ getProductCategoryId(GetProductCategoryIdRequest): Integer&lt;br/&gt;+ banUser(Integer, Integer, Integer): void&lt;br/&gt;+ login(LoginRequest): LoginResponse&lt;br/&gt;+ deleteProductAdmin(Integer, Integer): void&lt;br/&gt;+ getProductsByUser(Integer, Integer, Integer, String): GetProductsResponse&lt;br/&gt;+ getProductById(Integer): ProductDTO&lt;br/&gt;+ searchProducts(Integer, Integer, String, SearchProductsRequest): SearchProductsResponse&lt;br/&gt;+ getRecommendedProducts(Integer, Integer, String): GetProductsResponse&lt;br/&gt;+ getUserDetails(Integer): GetUserDetailsResponse&lt;br/&gt;+ getUserAccountStatus(Integer): GetUserAccountStatusResponse&lt;br/&gt;+ manualRemoveUsersBan(): void&lt;br/&gt;+ emailReset(Integer, EmailResetRequest): void&lt;br/&gt;+ updateBasicUserDetails(Integer, UpdateBasicUserDetailsRequest): void&lt;br/&gt;+ usernameReset(Integer, UsernameResetRequest): void&lt;br/&gt;+ createProduct(Integer, CreateProductRequest): Integer&lt;br/&gt;+ auditUserAction(AuditUserActionRequest): void&lt;br/&gt;+ getCategoryTree(Integer): GetCategoryTreeResponse&lt;br/&gt;+ oauth2login(Oauth2Request): Oauth2Response&lt;br/&gt;+ getLikedProductsByUser(Integer, Integer, Integer, String): GetProductsResponse&lt;br/&gt;+ removeUserBan(Integer, Integer): void&lt;br/&gt;+ sendPrivateMessage(Integer, PrivateChatMessageRequest): void&lt;br/&gt;+ getConversationsPreview(Integer, Integer, Integer, String): ConversationsPreviewResponse&lt;br/&gt;+ getSpecificUsersDetails(GetSpecificUsersDetailsRequest): GetSpecificUsersDetailsResponse&lt;br/&gt;+ updateProduct(Integer, UpdateProductRequest): void&lt;br/&gt;+ register(RegisterRequest): RegisterResponse&lt;br/&gt;+ deleteProduct(Integer, Integer): void&lt;br/&gt;+ passwordReset(Integer, PasswordResetRequest): void&lt;br/&gt;+ getUserActions(Integer, Integer, String): GetUserActionsResponse&lt;br/&gt;+ getConversation(Integer, Integer): ConversationResponse&lt;br/&gt;+ forgottenPasswordReset(ForgottenPasswordResetRequest): void&lt;br/&gt;+ getUserDetailsByUsername(String): GetUserDetailsResponse&lt;br/&gt;+ changeProductLikeStatus(Integer, Integer): void&lt;br/&gt;+ manualSecurityCodesExpire(): void&lt;br/&gt;+ addNewProductCategory(AddNewProductCategoryRequest): void&lt;br/&gt;+ searchProductsByCategory(Integer, Integer, Integer, String): SearchProductsResponse&lt;br/&gt;+ getProductsLikeStatus(Integer, GetProductsLikeStatusRequest): GetProductsLikeStatusResponse&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="426" y="590" width="647" height="903" as="geometry" />
        </mxCell>
        <mxCell id="dCIeNN29RQ3_K1Udhdl_-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="node14" target="node13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="node14" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;ExternalOperationsServiceImpl&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;+ getCategoryTree(Integer): GetCategoryTreeResponse&lt;br&gt;+ addNewProductCategory(AddNewProductCategoryRequest): void&lt;br&gt;+ searchProducts(Integer, Integer, String, SearchProductsRequest): SearchProductsResponse&lt;br&gt;+ getConversation(Integer, Integer): ConversationResponse&lt;br&gt;+ getConversationsPreview(Integer, Integer, Integer, String): ConversationsPreviewResponse&lt;br&gt;+ getUserActions(Integer, Integer, String): GetUserActionsResponse&lt;br&gt;+ sendPrivateMessage(Integer, PrivateChatMessageRequest): void&lt;br&gt;+ getUserAccountStatus(Integer): GetUserAccountStatusResponse&lt;br&gt;+ deleteProduct(Integer, Integer): void&lt;br&gt;+ getRecommendedProducts(Integer, Integer, String): GetProductsResponse&lt;br&gt;+ getProductById(Integer): ProductDTO&lt;br&gt;+ getProductsLikeStatus(Integer, GetProductsLikeStatusRequest): GetProductsLikeStatusResponse&lt;br&gt;+ searchProductsByCategory(Integer, Integer, Integer, String): SearchProductsResponse&lt;br&gt;+ getSpecificUsersDetails(GetSpecificUsersDetailsRequest): GetSpecificUsersDetailsResponse&lt;br&gt;+ oauth2login(Oauth2Request): Oauth2Response&lt;br&gt;+ getUserDetailsByUsername(String): GetUserDetailsResponse&lt;br&gt;+ getProductCategoryId(GetProductCategoryIdRequest): Integer&lt;br&gt;+ updateBasicUserDetails(Integer, UpdateBasicUserDetailsRequest): void&lt;br&gt;+ changeProductLikeStatus(Integer, Integer): void&lt;br&gt;+ addProductInSearchDictionary(Integer): void&lt;br&gt;+ getUserDetails(Integer): GetUserDetailsResponse&lt;br&gt;+ banUser(Integer, Integer, Integer): void&lt;br&gt;+ getProductsByUser(Integer, Integer, Integer, String): GetProductsResponse&lt;br&gt;+ getLikedProductsByUser(Integer, Integer, Integer, String): GetProductsResponse&lt;br&gt;+ removeUserBan(Integer, Integer): void&lt;br&gt;+ passwordReset(Integer, PasswordResetRequest): void&lt;br&gt;+ updateProduct(Integer, UpdateProductRequest): void&lt;br&gt;+ createProduct(Integer, CreateProductRequest): Integer&lt;br&gt;+ updateProductInSearchDictionary(Integer): void&lt;br&gt;+ forgottenPasswordReset(ForgottenPasswordResetRequest): void&lt;br&gt;+ register(RegisterRequest): RegisterResponse&lt;br&gt;+ usernameReset(Integer, UsernameResetRequest): void&lt;br&gt;+ deleteProductAdmin(Integer, Integer): void&lt;br&gt;+ auditUserAction(AuditUserActionRequest): void&lt;br&gt;+ deleteProductFromSearchDictionary(Integer): void&lt;br&gt;+ emailReset(Integer, EmailResetRequest): void&lt;br&gt;+ manualSecurityCodesExpire(): void&lt;br&gt;+ manualRemoveUsersBan(): void&lt;br&gt;+ login(LoginRequest): LoginResponse&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="432" y="1590" width="635" height="918" as="geometry" />
        </mxCell>
        <mxCell id="node0" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;FrontendConfig&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;- uiUri: String&lt;br/&gt;- X_ERROR_CODE: String&lt;br/&gt;- X_ERROR_MESSAGE: String&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;+ addCorsMappings(CorsRegistry): void&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="850" y="2950" width="284" height="149" as="geometry" />
        </mxCell>
        <mxCell id="dCIeNN29RQ3_K1Udhdl_-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="node1" target="node11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="node1" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;JwtAuthenticationFilter&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;- jwtService: JwtService&lt;br/&gt;- USER_ID_JWT_KEY: String&lt;br/&gt;- userDetailsService: UserDetailsService&lt;br/&gt;- userRepository: UserRepository&lt;br/&gt;- log: Logger&lt;br/&gt;- AUTHORIZATION: String&lt;br/&gt;- BEARER: String&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;# doFilterInternal(HttpServletRequest, HttpServletResponse, FilterChain): void&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="-130" y="2110" width="445" height="234" as="geometry" />
        </mxCell>
        <mxCell id="node11" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;JwtService&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;- secretKey: String&lt;br/&gt;- jwtExpirationMs: long&lt;br/&gt;- signingKey: Key&lt;br/&gt;- refreshExpirationMs: long&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;+ generateToken(UserDetails): String&lt;br/&gt;- getAllClaimsFromToken(String): Claims&lt;br/&gt;+ getClaimFromTokenByName(String, String, Class&amp;lt;T&amp;gt;): T&lt;br/&gt;- getClaimFromToken(String, Function&amp;lt;Claims, T&amp;gt;): T&lt;br/&gt;- createToken(Map&amp;lt;String, Object&amp;gt;, String): String&lt;br/&gt;- createToken(Map&amp;lt;String, Object&amp;gt;, String, long): String&lt;br/&gt;+ getSigningKey(): Key&lt;br/&gt;+ getUsernameFromToken(String): String&lt;br/&gt;+ isTokenExpired(String): boolean&lt;br/&gt;+ init(): void&lt;br/&gt;+ generateRefreshToken(UserDetails): String&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="-35" y="1190" width="400" height="402" as="geometry" />
        </mxCell>
        <mxCell id="node6" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;SecurityConfiguration&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;- WHITE_LIST_URL: String[]&lt;br/&gt;- customAuthenticationSuccessHandler: CustomAuthenticationSuccessHandler&lt;br/&gt;- authenticationProvider: AuthenticationProvider&lt;br/&gt;- customAuthenticationEntryPoint: CustomAuthenticationEntryPoint&lt;br/&gt;- jwtAuthFilter: JwtAuthenticationFilter&lt;br/&gt;- customLogoutHandler: CustomLogoutHandler&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt;+ securityFilterChain(HttpSecurity): SecurityFilterChain&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="-150" y="2570" width="526" height="210" as="geometry" />
        </mxCell>
        <mxCell id="node4" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;SwaggerConfig&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="470" y="2910" width="169" height="30" as="geometry" />
        </mxCell>
        <mxCell id="edge7" value="" style="html=1;rounded=1;edgeStyle=orthogonalEdgeStyle;dashed=0;startArrow=diamondThinstartSize=12;endArrow=openThin;endSize=12;strokeColor=#595959;exitX=0.179;exitY=0.000;exitDx=0;exitDy=0;entryX=0.500;entryY=1.001;entryDx=0;entryDy=0;" parent="1" source="node9" target="node8" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="label42" value="" style="edgeLabel;resizable=0;html=1;align=left;verticalAlign=top;strokeColor=default;" parent="edge7" vertex="1" connectable="0">
          <mxGeometry x="1598" y="1404" as="geometry" />
        </mxCell>
        <mxCell id="label46" value="" style="edgeLabel;resizable=0;html=1;align=left;verticalAlign=top;strokeColor=default;" parent="edge7" vertex="1" connectable="0">
          <mxGeometry x="1614" y="1916" as="geometry" />
        </mxCell>
        <mxCell id="label47" value="" style="edgeLabel;resizable=0;html=1;align=left;verticalAlign=top;strokeColor=default;" parent="edge7" vertex="1" connectable="0">
          <mxGeometry x="1530" y="2117" as="geometry" />
        </mxCell>
        <mxCell id="edge0" value="" style="html=1;rounded=1;edgeStyle=orthogonalEdgeStyle;dashed=1;startArrow=none;endArrow=block;endSize=12;strokeColor=#008200;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="1" source="node17" target="node8" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1458" y="1970" />
              <mxPoint x="1379" y="1970" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="edge9" value="" style="html=1;rounded=1;edgeStyle=orthogonalEdgeStyle;dashed=0;startArrow=diamondThinstartSize=12;endArrow=openThin;endSize=12;strokeColor=#595959;exitX=1.000;exitY=0.053;exitDx=0;exitDy=0;entryX=0.000;entryY=0.975;entryDx=0;entryDy=0;" parent="1" source="node6" target="node3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="label54" value="" style="edgeLabel;resizable=0;html=1;align=left;verticalAlign=top;strokeColor=default;" parent="edge9" vertex="1" connectable="0">
          <mxGeometry x="727" y="3181" as="geometry" />
        </mxCell>
        <mxCell id="label58" value="" style="edgeLabel;resizable=0;html=1;align=left;verticalAlign=top;strokeColor=default;" parent="edge9" vertex="1" connectable="0">
          <mxGeometry x="439" y="3181" as="geometry" />
        </mxCell>
        <mxCell id="label59" value="" style="edgeLabel;resizable=0;html=1;align=left;verticalAlign=top;strokeColor=default;" parent="edge9" vertex="1" connectable="0">
          <mxGeometry x="662" y="3293" as="geometry" />
        </mxCell>
        <mxCell id="edge10" value="" style="html=1;rounded=1;edgeStyle=orthogonalEdgeStyle;dashed=0;startArrow=diamondThinstartSize=12;endArrow=openThin;endSize=12;strokeColor=#595959;exitX=0.670;exitY=0.000;exitDx=0;exitDy=0;entryX=0.500;entryY=1.000;entryDx=0;entryDy=0;" parent="1" source="node6" target="node1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="label60" value="" style="edgeLabel;resizable=0;html=1;align=left;verticalAlign=top;strokeColor=default;" parent="edge10" vertex="1" connectable="0">
          <mxGeometry x="225" y="3131" as="geometry" />
        </mxCell>
        <mxCell id="label64" value="" style="edgeLabel;resizable=0;html=1;align=left;verticalAlign=top;strokeColor=default;" parent="edge10" vertex="1" connectable="0">
          <mxGeometry x="185" y="3159" as="geometry" />
        </mxCell>
        <mxCell id="label65" value="jwtAuthFilter" style="edgeLabel;resizable=0;html=1;align=left;verticalAlign=top;strokeColor=default;" parent="edge10" vertex="1" connectable="0">
          <mxGeometry x="236" y="3131" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
